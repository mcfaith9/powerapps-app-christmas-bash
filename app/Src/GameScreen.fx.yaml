GameScreen As screen:
    OnVisible: |+
        =UpdateContext({ Score: 0 });
        UpdateContext({ GameScreenTimerStart: false });
        ClearCollect(ScoreCollection, { Score: Score });
        
        ClearCollect(MolesCollection, { MoleImage: Image9, YPosition: 0, Visible: false, timerGameScreen: Rand() });
        Collect(MolesCollection, { MoleImage: Image8, YPosition: 0, Visible: false, timerGameScreen: Rand() });
        Collect(MolesCollection, { MoleImage: Image4, YPosition: 0, Visible: false, timerGameScreen: Rand() })
        

    bgGameScreen As image:
        Height: =768
        Image: ='background-game v2'
        Width: =1366
        ZIndex: =1

    btnBackScreen As image:
        Height: =79
        Image: ='close-idle'
        OnSelect: =Navigate(StartScreen, ScreenTransition.CoverRight)
        Width: =102
        ZIndex: =2

    textScoreGameScreen As label:
        Align: =Align.Center
        Color: =RGBA(255, 255, 255, 1)
        FontWeight: =FontWeight.Bold
        Size: =38
        Text: =Text(Score, "0")
        X: =161
        Y: =205
        ZIndex: =6

    Moles As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =6

        Image4 As image:
            Height: =188
            Image: ='mole-graham-cropped'
            OnSelect: |-
                =UpdateContext({ GameScreenTimerStart: true });
                UpdateContext({ Score: Score + 10 });
            Width: =229
            X: =441
            Y: =372
            ZIndex: =3

        Image8 As image:
            Height: =151
            Image: ='mole-santa-cropped'
            OnSelect: |-
                =UpdateContext({ GameScreenTimerStart: true });
                UpdateContext({ Score: Score + 10 });
            Width: =128
            X: =273
            Y: =297
            ZIndex: =4

        Image9 As image:
            Height: =188
            Image: ='mole-agik-cropped'
            OnSelect: |-
                =UpdateContext({ GameScreenTimerStart: true });
                UpdateContext({ Score: Score + 10 });
            Width: =151
            X: =995
            Y: =372
            ZIndex: =5

    timerGameScreen As timer:
        Duration: =30000
        OnTimerEnd: |-
            =UpdateContext({ GameScreenTimerStart: false });
        OnTimerStart: |-
            =ForAll(MolesCollection,
                {
                    MoleImage: ThisRecord.MoleImage,
                    YPosition: If(ThisRecord.Visible, Round(Rand() * Rand() * 200, 0), 0),
                    Visible: ThisRecord.Visible,
                    Timer: Rand()
                }
            );
        Start: =GameScreenTimerStart
        Visible: =false
        X: =1077
        Y: =105
        ZIndex: =7

    textTimerGameScreen As label:
        Align: =Align.Center
        Color: =RGBA(255, 255, 255, 1)
        Font: =Font.'Courier New'
        FontWeight: =FontWeight.Bold
        Height: =61
        Size: =38
        Text: =Text(RoundUp((timerGameScreen.Duration - timerGameScreen.Value)/1000, 0), "[$-en-US]00")
        Width: =210
        X: =1047
        Y: =201
        ZIndex: =8

